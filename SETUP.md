# 設定指南 - TourPage AI 文案生成器

## 快速開始

### 1. 啟動應用程式

```bash
bun install
bun dev
```

應用程式將在 [http://localhost:3000](http://localhost:3000) 啟動。

### 2. 設定 Google Gemini API Key

**首次使用時的設定步驟：**

1. 開啟應用程式後，您會看到藍色的 API Key 設定卡片
2. 點擊連結前往 [Google AI Studio](https://aistudio.google.com/app/apikey)
3. 使用您的 Google 帳號登入
4. 點擊「Create API Key」按鈕
5. 選擇一個 Google Cloud 專案（或建立新專案）
6. 複製產生的 API Key
7. 返回應用程式，將 API Key 貼上到輸入欄位中
8. 點擊「儲存 API Key」按鈕

**安全機制：**
- ✅ API Key 儲存在您的瀏覽器本地儲存空間（localStorage）
- ✅ API Key 不會傳送到任何伺服器（僅直接呼叫 Google API）
- ✅ 您可以隨時在介面上變更或清除 API Key
- ✅ 使用密碼欄位隱藏 API Key 內容

**後續使用：**
- 設定完成後，API Key 會自動載入
- 您會看到綠色的確認訊息，顯示 API Key 的前 8 個字元
- 如需變更，點擊「變更 API Key」按鈕即可

## 準備 CSV 檔案

### CSV 檔案格式

您的 CSV 檔案應該包含以下欄位：

1. **區塊名稱**：如 "Hero", "About Us", "carousel", "Contact Us"
2. **項目代碼**：A, B, C 等
3. **項目說明**：說明該項目的用途
4. **範例**：參考範例
5. **客戶填寫＆提供**：您要填寫的內容

### 範本下載

應用程式中提供了範本下載連結，或者您可以直接使用 `/public/template.csv` 檔案。

### Excel 匯出注意事項

從 Excel 匯出 CSV 時：
1. 選擇「檔案」→「另存新檔」
2. 檔案格式選擇「CSV UTF-8（逗號分隔）(*.csv)」
3. **不要使用** 一般的 CSV 格式，否則中文可能會亂碼

### 範例結構

```csv
區塊名稱,項目代碼,項目說明,範例,客戶填寫＆提供
Hero,A,主標題,歡迎來到我們的網站,您的精彩標題
Hero,B,副標題描述,提供最佳服務,您的副標題說明
Hero,C,CTA 按鈕文字,立即開始,您的按鈕文字
About Us,A,標籤,關於我們,
About Us,B,標題,專業團隊,
About Us,C,描述內容,我們的故事...,
carousel,,,產品 1,
carousel,A,產品標題,高效能產品,
carousel,B,簡短描述,提升效率,
carousel,C,完整描述,詳細的產品介紹...,
```

## 使用流程

### 階段 1：上傳 CSV
1. 點擊「上傳」按鈕
2. 選擇您準備好的 CSV 檔案
3. 系統會自動解析檔案內容

### 階段 2：設定參數
1. **目標人群**：
   - B2C：面向消費者，強調情感和體驗
   - B2B：面向企業，強調效益和解決方案

2. **目標市場**：選擇您的目標語言
   - 系統支援 11 種語言
   - AI 會進行本地化，不只是翻譯

3. **行銷重點**：
   - 品牌介紹：強化品牌故事
   - 商品介紹：強調產品特色
   - USP：突出獨特賣點

4. **必提內容**（選填）：
   - 輸入必須包含的關鍵字或 Slogan
   - 會自然融入生成的文案中

### 階段 3：生成文案
1. 點擊「點擊生成文案」按鈕
2. 等待 AI 處理（通常需要 10-30 秒）
3. 系統會顯示處理狀態

### 階段 4：下載結果
1. 生成完成後，「下載」按鈕會出現
2. 點擊下載 CSV 檔案
3. 檔案包含：
   - 原始文案（客戶原文）
   - AI 生成的文案（目標語言）

## 常見問題

### Q: API 呼叫失敗怎麼辦？
**A:** 檢查以下事項：
- API Key 是否正確貼上（沒有多餘的空格）
- API Key 是否有效且未過期
- 網路連線是否正常
- Google AI Studio 的配額是否足夠
- 嘗試點擊「變更 API Key」重新設定

### Q: CSV 解析失敗？
**A:** 確認：
- CSV 檔案編碼為 UTF-8
- 檔案結構符合範本格式
- 包含必要的區塊標題（Hero, About Us 等）

### Q: 生成的文案品質不佳？
**A:** 嘗試：
- 提供更詳細的原始內容
- 調整行銷參數（人群、重點）
- 明確指定必提內容和關鍵字
- 多次生成，選擇最佳結果

### Q: 支援哪些語言？
**A:** 目前支援：
- 繁體中文（台灣）
- 简体中文（中國）
- English（美國/通用）
- 日本語（日本）
- 한국어（韓國）
- Deutsch（德國）
- Français（法國）
- Italiano（義大利）
- ภาษาไทย（泰國）
- Tiếng Việt（越南）

**雙語輸出功能：**
- 當選擇非中文語言時，CSV 輸出會包含**目標語言文案**和**中文翻譯**兩欄
- 中文翻譯方便您比對和理解外語內容
- 當選擇中文語言時，只輸出優化後的中文文案

## API 配額與限制

Google Gemini API 提供免費額度：
- 免費層級：每分鐘 15 次請求
- 如需更多配額，請參考 [Google AI 定價](https://ai.google.dev/pricing)

## 技術支援

如遇到問題：
1. 檢查瀏覽器開發者工具的控制台（F12）
2. 查看錯誤訊息
3. 參考本文件的常見問題
4. 查閱 [Google Gemini API 文件](https://ai.google.dev/docs)

## 安全建議

1. ✅ **要做的事**：
   - 妥善保管您的 API Key
   - 定期檢查 Google AI Studio 的 API 使用量
   - 只在信任的裝置上設定 API Key
   - 如果懷疑 API Key 外洩，立即在 Google AI Studio 重新產生

2. ❌ **不要做的事**：
   - 不要在公共電腦上使用此應用程式
   - 不要截圖或複製包含完整 API Key 的畫面
   - 不要與他人分享您的 API Key

3. 📱 **LocalStorage 安全性**：
   - API Key 儲存在瀏覽器的 localStorage 中
   - 清除瀏覽器資料時，API Key 也會被清除
   - 使用隱私模式時，關閉瀏覽器後 API Key 會消失
   - 建議使用自己的個人裝置

## 進階使用

### 自訂 AI 提示詞
如需調整 AI 行為，可修改 `src/app/page.tsx` 中的 `systemPrompt` 變數。

### 擴展支援的語言
在 `targetLanguage` 選項中新增語言代碼即可。

### 調整 CSV 結構
修改 `parseCsvToStructuredJson` 函式以支援自訂的 CSV 格式。

---

**祝您使用順利！** 🚀
